<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SQLite3 OPFS/WASM Test Runner</title>
    <link rel="stylesheet" href="./styles.css" />
</head>

<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <div class="header-title">SQLite3 OPFS/WASM Test Runner</div>
            <div class="header-actions">
                <button id="run-tests-btn" class="btn btn-primary">
                    <span class="spinner" id="run-spinner" style="display: none;">⟳</span>
                    <span id="run-btn-text">Rerun Tests</span>
                </button>
                <button id="clear-log-btn" class="btn btn-secondary">Clear Console</button>
            </div>
        </div>
    </div>

    <!-- Toolbar -->
    <div class="toolbar">
        <div class="toolbar-left">
            <div class="env-item">
                <span id="env-opfs-icon">⏳</span>
                <span>OPFS: <span id="env-opfs-status">...</span></span>
            </div>
            <div class="env-item">
                <span id="env-sab-icon">⏳</span>
                <span>SAB: <span id="env-sab-status">...</span></span>
            </div>
            <div class="env-item">
                <span id="env-worker-icon">⏳</span>
                <span>Worker: <span id="env-worker-status">...</span></span>
            </div>
        </div>
        <div class="toolbar-right">
            <span id="test-progress-text">0 / 0 tests</span>
            <span style="color: #10b981;">✓ <span id="test-passed-count">0</span></span>
            <span style="color: #ef4444;">✗ <span id="test-failed-count">0</span></span>
            <span style="font-weight: 600;" id="test-pass-rate">0%</span>
        </div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-bar">
        <div class="progress-fill" id="test-progress-bar" style="width: 0%"></div>
    </div>

    <!-- Two-Column Layout -->
    <div class="split-layout">
        <!-- Left Panel: Test Tree -->
        <div class="left-panel">
            <div id="test-tree"></div>
        </div>

        <!-- Right Panel: Console Log -->
        <div class="right-panel">
            <div class="log-container" id="console-log">
                <div class="log-entry log-info">Initializing test runner...</div>
            </div>
        </div>
    </div>

    <script type="module" src="./src/main.ts"></script>
</body>

</html>
